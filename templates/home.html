{% extends 'base.html' %}
{% block main %}
<div class="max-w-md mx-auto px-2 pb-10">
  <div class="flex justify-center py-2">
    <button class="btn btn-wide" onclick="add_chat_modal.showModal()">Add chat</button>
  </div>
  {% for name, number in chats %}
  <a href="/3/{{ name }}" class="card mt-1.5 overflow-hidden">
    <div class="card-body">
      <h2 class="card-title">{{ name }}</h2>
      <p class="text-sm text-base-content/60">{{ number }} {% if number == 1 %}message{% else %}messages{% endif %}</p>
    </div>
  </a>
  {% endfor %}
</div>
<dialog id="add_chat_modal" class="modal">
  <div class="modal-box max-w-md p-5">
    <h3 class="font-semibold">Add chat</h3>
    <form method="post">
      <fieldset class="fieldset pt-4 pb-0">
        <label for="conf" class="label">Interlocutor's configuration</label>
        <textarea id="conf" name="conf" class="textarea break-all" spellcheck="false" required></textarea>
        <button type="submit" class="btn btn-primary mt-2">Add chat</button>
      </fieldset>
    </form>
  </div>
  <form method="dialog" class="modal-backdrop"><button></button></form>
</dialog>
{% endblock %}